<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A priori power calculator — power.analysis • dmetar</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />
<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="A priori power calculator — power.analysis" />

<meta property="og:description" content="This function performs an a priori power estimation of a meta-analysis
for different levels of assumed between-study heterogeneity." />

<meta property="og:image" content="http://dmetar.protectlab.org/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dmetar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/dmetar.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/">Book</a>
</li>
<li>
  <a href="https://protectlab.org/en">Protect Lab</a>
</li>
<li>
  <a href="https://twitter.com/MathiasHarrer">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MathiasHarrer/dmetar">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A priori power calculator</h1>
    <small class="dont-index">Source: <a href='https://github.com/MathiasHarrer/dmetar/blob/master/R/power.analysis.R'><code>R/power.analysis.R</code></a></small>
    <div class="hidden name"><code>power.analysis.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function performs an <em>a priori</em> power estimation of a meta-analysis
for different levels of assumed between-study heterogeneity.</p>
    
    </div>

    <pre class="usage"><span class='fu'>power.analysis</span>(<span class='no'>d</span>, <span class='no'>OR</span>, <span class='no'>k</span>, <span class='no'>n1</span>, <span class='no'>n2</span>, <span class='kw'>p</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>heterogeneity</span> <span class='kw'>=</span> <span class='st'>'fixed'</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>d</th>
      <td><p>The hypothesized, or plausible overall effect size of a treatment/intervention under study compared
to control, expressed as the standardized mean difference (<em>SMD</em>). Effect sizes must be positive
numerics (i.e., expressed as positive effect sizes).</p></td>
    </tr>
    <tr>
      <th>OR</th>
      <td><p>The hypothesized, or plausible overall effect size of a treatment/intervention under study compared
to control, expressed as the Odds Ratio (<em>OR</em>). If both <code>d</code> and <code>OR</code> are specified, results
will only be computed for the value of <code>d</code>.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>The expected number of studies to be included in the meta-analysis.</p></td>
    </tr>
    <tr>
      <th>n1</th>
      <td><p>The expected, or plausible mean sample size of the treatment group in the studies to be included in the meta-analysis.</p></td>
    </tr>
    <tr>
      <th>n2</th>
      <td><p>The expected, or plausible mean sample size of the control group in the studies to be included in the meta-analysis.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>The alpha level to be used for the power computation. Default is \(\alpha = 0.05\).</p></td>
    </tr>
    <tr>
      <th>heterogeneity</th>
      <td><p>Which level of between-study heterogeneity to assume for the meta-analysis. Can be either
<code>"fixed"</code> for no heterogeneity/a fixed-effect model, <code>"low"</code> for low heterogeneity, <code>"moderate"</code>
for moderate-sized heterogeneity or <code>"high"</code> for high levels of heterogeneity. Default is <code>"fixed"</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Returns a <code>list</code> with two elements:</p>
<ul>
<li><p><code>Plot</code>: A plot showing the effect size (x), power (y), estimated power (red point) and
estimated power for changing effect sizes (blue line). A dashed line at 80% power is also provided as a visual threshold for sufficient power.</p></li>
<li><p><code>Power</code>: The <strong>estimated power</strong> of the meta-analysis, expressed as a value between 0 and 1 (i.e., 0%-100%).</p></li>
</ul>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>While researchers conducting primary studies can plan the size of their sample
based on the effect size they want to find, the situation is a different in
meta-analysis, where one can only work with the published material.
However, researchers have some control over the number of studies they want to include in their
meta-analysis (e.g., through more leniently or strictly defined inclusion criteria).
Therefore, one can change the power to some extent by including more or less studies into
the meta-analysis. Conventionally, a power of \(1-\beta = 0.8\) is deemed sufficient to detect an existing effect.
There are four things one has to make assumptions about when assessing the power of a meta-analysis a priori.</p>
<ul>
<li><p>The number of included or includable studies</p></li>
<li><p>The overall size of the studies we want to include (are the studies in the field rather small or large?)</p></li>
<li><p>The effect size. This is particularly important, as assumptions have to be made
about how big an effect size has to be to still be clinically meaningful. One study calculated
that for interventions for depression, even effects as small as <em>SMD</em>=0.24 may still
be meaningful for patients (Cuijpers et al. 2014). If the aim is to study negative effects of an
intervention (e.g., death or symptom deterioration), even very small effect sizes are extremely
important and should be detected.</p></li>
<li><p>The heterogeneity of our studies’ effect sizes, as this also affects the precision of the pooled estimate,
and thus its potential to find significant effects.</p></li>
</ul>

<p>The <code>power.analysis</code> function implements the formula by Borenstein et al. (2011) to calculate
the power estimate. Odds Ratios are converted to <code>d</code> internally before the power is estimated, and
are then reconverted.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Harrer, M., Cuijpers, P., Furukawa, T.A, &amp; Ebert, D. D. (2019).
<em>Doing Meta-Analysis in R: A Hands-on Guide</em>. DOI: 10.5281/zenodo.2551803. <a href='https://bookdown.org/MathiasHarrer/Doing_Meta_Analysis_in_R/power-analysis.html'>Chapter 13</a></p>
<p>Cuijpers, P., Turner, E.H., Koole, S. L., Van Dijke, A., &amp; Smit, F. (2014).
What Is the Threshold for a Clinically Relevant Effect? The Case of Major Depressive Disorders.
<em>Depression and Anxiety, 31</em>(5): 374–78.</p>
<p>Borenstein, M., Hedges, L.V., Higgins, J.P.T. and Rothstein, H.R. (2011). Introduction to Meta-Analysis. John Wiley &amp; Sons.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='power.analysis.subgroup.html'>power.analysis.subgroup</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Example 1: Using SMD and fixed-effect model (no heterogeneity)</span>
<span class='fu'>power.analysis</span>(<span class='kw'>d</span><span class='kw'>=</span><span class='fl'>0.124</span>, <span class='kw'>k</span><span class='kw'>=</span><span class='fl'>10</span>, <span class='kw'>n1</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>n2</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>heterogeneity</span> <span class='kw'>=</span> <span class='st'>'fixed'</span>)</div><div class='output co'>#&gt; Fixed-effect model used. </div><div class='img'><img src='power.analysis-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; Power: 49.96%</div><div class='input'>
<span class='co'># Example 2: Using OR and assuming moderate heterogeneity</span>
<span class='no'>pa</span> <span class='kw'>=</span> <span class='fu'>power.analysis</span>(<span class='kw'>OR</span><span class='kw'>=</span><span class='fl'>0.77</span>, <span class='kw'>k</span><span class='kw'>=</span><span class='fl'>12</span>, <span class='kw'>n1</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>n2</span><span class='kw'>=</span><span class='fl'>50</span>, <span class='kw'>heterogeneity</span> <span class='kw'>=</span> <span class='st'>'high'</span>)
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>pa</span>)</div><div class='output co'>#&gt; Power Analysis based on log-transformed OR. 
#&gt; Random-effects model used (high heterogeneity assumed). </div><div class='img'><img src='power.analysis-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; Power: 42.18%</div><div class='input'>
<span class='co'># Only show plot</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>pa</span>)</div><div class='img'><img src='power.analysis-3.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Mathias Harrer &amp; David Daniel Ebert</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Mathias Harrer, Pim Cuijpers, Toshi Furukawa, David Daniel Ebert.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '358a758fa720ccb381dab79f60a2b3a4',
    indexName: 'dmetar',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


